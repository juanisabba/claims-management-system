<div class="space-y-4">
  @for (damage of damages(); track damage.id) {
    <div
      class="flex items-center p-4 bg-white border rounded-xl hover:shadow-md transition-shadow duration-200 group"
      [ngClass]="{
        'border-l-4 border-l-green-500': damage.severity === 'low',
        'border-l-4 border-l-yellow-500': damage.severity === 'mid',
        'border-l-4 border-l-red-500': damage.severity === 'high',
      }"
    >
      <!-- Image Thumbnail -->
      <div
        class="flex-shrink-0 w-20 h-20 bg-gray-100 rounded-lg overflow-hidden border border-gray-100 mr-4"
      >
        @if (damage.imageUrl) {
          <img
            [src]="damage.imageUrl"
            [alt]="damage.part"
            class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
          />
        } @else {
          <div class="w-full h-full flex items-center justify-center text-gray-300">
            <svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
              />
            </svg>
          </div>
        }
      </div>

      <!-- Info -->
      <div class="flex-1 min-w-0">
        <div class="flex items-center justify-between">
          <h4 class="text-lg font-bold text-gray-900 truncate">{{ damage.part }}</h4>
          <span class="text-lg font-semibold text-indigo-600">{{ damage.price | currency }}</span>
        </div>
        <div class="mt-1 flex items-center space-x-4">
          <span
            class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium uppercase tracking-wider"
            [ngClass]="{
              'bg-green-100 text-green-800': damage.severity === 'low',
              'bg-yellow-100 text-yellow-800': damage.severity === 'mid',
              'bg-red-100 text-red-800': damage.severity === 'high',
            }"
          >
            {{ damage.severity | titlecase }}
          </span>
          <span class="text-xs text-gray-400">ID: {{ damage.id.substring(0, 8) }}...</span>
        </div>
      </div>
    </div>
  }
</div>
